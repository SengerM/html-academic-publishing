<!DOCTYPE html>
<html>

<head>
	<title>Modern scientific documents with HTML</title>
	
	<meta charset="utf-8">
	<link rel="stylesheet" href="./css_and_scripts/style.css">
	<!-- Math support https://www.mathjax.org/#gettingstarted -->
	<script>
	MathJax = {
	  tex: {
		inlineMath: [['$', '$'], ['\\(', '\\)']]
	  },
	  svg: {
		fontCache: 'global'
	  }
	};
	</script>
	<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
	<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
	
</head>

<body>
	
	<div id="document_title">This will be replaced by the title of the document</div>
		
	<author affiliation="Universität Zürich|Universidad de Buenos Aires" email="thisisnotmyemail@gmail.com">
		Matías Senger
	</author>
	<author	affiliation="Universität Zürich|Asociación de amigos de Humahuaca Unidos por el Pueblo" email="juanca@gmail.com">
		Juan Carlos
	</author>
	<author affiliation="The Pirates University" email="theblackpearl@tortuga.com.pi">
		Captain Jack Sparrow<footnote>Yo ho, yo ho, a pirate's life for me.</footnote>
	</author>
	<author affiliation="Universität Zürich|Princeton|Cambridge|Universidad de Buenos Aires|CERN|Oxford">
		Smart Guy
	</author>
	
	<abstract>
		<p>PDF is the most used format for scientific documents, be them reports, papers, slides, etc. The major advantage of this format is its universality, once a PDF file is produced it is assured that it will be properly rendered in any modern operating system using the appropriate software. However, it has a major drawback: It was designed to represent "paper-printed documents" and so it can only contain static text and images. This limits the way scientists present their results. Furthermore, the rate at which we read documentation is so high that most of the PDFs we read are never printed, we just read them from the screen. In view of this it is reasonable to have a new, modern format for such a purpose. Here I explore how the technologies behind websites can be addapted to this and present an example (this document itself).</p>
		<p>This is a second paragraph in the abstract. Usually there is only one, but we can handle more if needed.</p>
	</abstract>

	<div id="table-of-contents">
		<h2 class="unnumbered">Table of contents</h2> <!-- Feel free to change this title. -->
		<!-- Here will be placed the table of contents -->
	</div>
	
	<h1 id="introduction section">Introduction to HTML Scientific Document</h1>
	<p>"HTML Scientific Document" is an evolution to scientific documents in PDF format.</p>
	
	<h2>Why to replace the PDF format?</h2>
	<p>PDF is nowadays the most extended format for sharing scientific documents. A PDF document basically represents a bunch of paper sheets. This limits what your document can contain<footnote>Basically you can only put static text and images, that's all.</footnote>. From my point of view:</p>
	<ul>
		<li>Strong points of PDF:
			<ul>
				<li>Unbeatable for representing "printable documents".</li>
				<li>Universal<footnote>Nowadays any operating system has software to handle PDF files.</footnote>.</li>
			</ul>
		</li>
		<li>Weak points of PDF:
			<ul>
				<li>It can only represent "printable documents".</li>
				<li>It is not device friendly<footnote>You can easilly read a PDF in a computer, but reading a PDF in a mobile is a pain becasue you cannot increase the font size.</footnote>.</li>
				<li>It can only contain static text and images.</li>
				<li>You cannot change the font size, i.e. it zooms as an image not as a text.</li>
			</ul>
		</li>
	</ul>
	
	<h2>What can replace the PDF format?</h2>
	<p>HTML, the technology behind websites, is as universal as PDFs but much more flexible<footnote>With HTML you can create anything you can imagine, for example <a href="https://www.youtube.com/">YouTube</a>.</footnote>. For me it looks as the perfect candidate for this jump as the hard part (implementing the machinery) is already solved.</p>
	
	<h3>Latex vs HTML</h3>
	<p>In physics, math and other related fields of science it is very common to write documents using Latex. Latex is very nice and powerful, it produces amazing PDF files. But this is preciselly the problem I see: It produces PDFs. If you write in Latex it is because in the end you want a PDF.</p>
	<p>HTML, as Latex, is a markup language but, in contrast, it is much more widespread due to its masive usage in websites. The comunity of HTML users is infinitely bigger than the comunity of Latex users. Nowadays there is nothing Latex can do that HTML cannot do (for example beautiful equations). Even more, you don't need to install anything in order to create/view an HTML document because you already have a text editor and a web browser in all your devices.</p>
	<p>In view of this it looks very reasonable for me to choose HTML as the basis for "the next generation of scientific documents" rather than Latex or anything else.</p>
	
	
	<h2>Still want a PDF?</h2>
	<p>You still want a PDF? Open this document with your favourite web broser, hit <code>ctrl+print</code> and save it as a PDF file<footnote>Firefox can do this, probably all other "famous" browsers can too. You may have to set up the zoom, margins, background, etc. such that it looks fine as in the browser. But believe me, it is trivial to get a good looking PDF from this.</footnote>. There are probably other ways of getting a PDF from an HTML file.</p>
	
	
	<h1>HTML Scientific Document</h1>
	<p>Here I will describe my current approach which produces a document as the one you are reading right now. Still not perfect but, from my point of view, already better than a PDF.</p>
	
	<h2>The structure of the documents</h2>
	<p>This is based in HTML so anything that applies to HTML also applies to this. The structure of an HTML-SD must follow the <a href="https://www.w3schools.com/html/html_intro.asp">structure of an HTML document</a>. As an example you can take the source code for this document, just select "view source" with your favourite web browser or download this file (using <code>ctrl+s</code> for example) and open it with a text editor.</p>
	
	<h2>Sections and sub-sections</h2>
	<p>Scientific documents are structured in sections, sub-sections, sub-sub-sections and so on. To accomplish this in HTML you can use the <code>&lt;h1></code>, <code>&lt;h2></code>,... tags. The scripting engine of HTML-SD that I have linked to this HTML file will automatically number the sections and also produce a table of contents as we are used to in Latex.</p>
	
	<h5>A very indented section</h5>
	<p>This is an <code>&lt;h5></code> without any of the previous <code>&lt;h3></code> and <code>&lt;h4></code> before. You can see that the numbering is still correct.</p>
	
	<h3>Unnumbered sections</h3>
	<p>To insert unnumbered sections<footnote>Unnumbered sections are not listed in the table of contents and cannot be referenced using <code>&lt;crossref></code>.</footnote> just set the <code>class</code> attribute to <code>"unnumbered"</code>, like this: <code>&lt;h4 class="unnumbered">This is an unnumbered section&lt;/h4></code>. As a result you will obtain this:</p>
	<h4 class="unnumbered">This is an unnumbered section</h4>
	<p>This section will not be listed in the table of contents, it is just aesthetic. You can do this with any type of heading tag.</p>
	
	<h3>Sections with the same name</h3>
	<p>You can have sectioins with the same name, but if you do that you must make them different by assigning different <code>id</code>s to each of them. Here there is an example:</p>
	<h4>Two sections with the same name</h4>
	<p>This section has the same name as the next section, but they are differenciated with the <code>id</code> attribute<footnote>The <code>id</code> attribute is not rendered in an HTML document so you will not see it in your web browser.</footnote>.</p>
	<h4 id="I want two sections with the same title">Two sections with the same name</h4>
	<p>Two sections with the same name requre at least one of them with a different id. Otherwise they are the same section and we don't know which of them to refer to when there is a cross reference.</p>
	
	<h1>Mathematic equations</h1>
	<p>You can just write your equations using Latex code, which is very nice for equations. You can add inline equations $x^2+x+1=0$ using <code>$</code> and you can add "displayed" equations 
			
			<equation id="my first equation">$$\intop_0^1f(x)dx=\pi$$</equation>

		using <code>$$</code>. The previous equation is numberedv because I wroted it in between <code>&lt;equation></code> and <code>&lt;/equation></code> like this: <code>&lt;equation id="my first equation">$$\intop_0^1f(x)dx=\pi$$&lt;/equation></code>. Not that it has an <code>id</code> assigned so we can later on insert a cross reference to it. The following equation is numbered but has no <code>id</code> so we will not be able to insert a cross reference to it:
			
			<equation>$$E=mc^2$$</equation>
		
		Here we have another important equation in Physics
		
			<equation id="Dirac equation">$$\left( i \gamma^\mu \partial_\mu - m \right) \psi = 0$$</equation>
		
		that later on I will cite.
	</p>
	
	<h3>Very long equations</h3>	
		If you wrote in Latex before you probably know that there are always problems with very long equations and this is a pain because you never know beforehand when an equation is "very long". Here this problem does not exist! Consider the following "very long equation":
			
			<equation id="very long equation">$$\frac{dF}{dx}\frac{dx}{dy}\frac{dy}{d\xi}=\intop_{\mathbb{R}}f(\zeta)e^{-\zeta}\cos(w^{2}-\zeta)\ d\zeta+\frac{3x^{3}+(\nabla\times\boldsymbol{E})\cdot\boldsymbol{B}}{\vec{r}\cdot\vec{E}}+8\pi\hbar+\log\cos\tan\sin\pi$$</equation>
			
		Now reduce the width of the window in which you are reading this and see what happens when this equation becomes "very long". You can simply scrool horizontally to see it complete, or just change the zoom-width of the window<footnote>If this were a PDF produced with Latex, this equation would probably be problematic and you would have to insert <code>newline</code> by hand and check that it renders correctly.</footnote>.
	</p>
	
	<h3>Latex command deffinitions</h3>
	<p>It is also possible to define custom Latex commands for the equations. Suppose you are working with quantum mechanics and you are using the <a href="https://en.wikipedia.org/wiki/Bra%E2%80%93ket_notation">bracket notation</a>. You can define the <code>\KET</code> command as you would do in Latex inserting <code>\def\KET#1{\left|#1\right\rangle }</code> and then you can use it to write, for example, the Schrödinger equation via <code>\hat{\mathscr{H}}\KET{\psi}=i\frac{\partial}{\partial t}\KET{\psi}</code>. The result is:
		$\def\KET#1{\left|#1\right\rangle }$
		$$ \hat{\mathscr{H}}\KET{\psi}=i\frac{\partial}{\partial t}\KET{\psi} $$
	
	</p>
	
	<h1>Figures</h1>
	<p>Of course HTML can handle figures. In HTML Scientific Document I have implemented a machinery that automatically numbers the captions and allows to make cross references to them. Below some examples</p>
	
	<p>The figure below is inserted in such a way that its width matches the width of the window. You can now change the width of the window you are using to read this document and the size of the image will also change accordingly.</p>
	
	<figure class="figure" id="figure with Newton in full width">
		<image src="media/Inkscape.svg" width="100%" style="max-height: 70vh"></image>
		<figcaption class="figure">This image was created with <a href="https://inkscape.org/">Inkscape</a> and inserted directly into this HTML file in <code>svg</code> format. So you are seeing a vector image, with all the cool things this implies. This image was configured to fit the width of the document, so if you change the width of the window in which you are reading this it should also change the width of this image. This is a cross reference inside a caption: see figure <crossref>measured delay average</crossref><footnote>This footnote is in the caption of a figure.</footnote><footnote>This is another footnote inside the caption of a figure.</footnote>.</figcaption>
	</figure>
	
	<p>We can also specify a fixed size for our image. The next one should not change as you modify the size of the window:</p>
	
	<figure class="figure">
		<image src="media/Inkscape.svg" height=333></image>
		<figcaption class="figure">In this example I have specified the height of the image and this automatically fixes the width. If you change the size of the window this image should remain fixed.</figcaption>
	</figure>
	
	<h2>Interactive plots</h2>
	
	<p>A PDF cannot handle a plot made with <a href="https://plotly.com/">plotly</a> as the one in figure <crossref>FIG: interactive plot</crossref>. This plot is interactive, you can zoom, pan, enable/disable traces, etc. This has proven to be very useful to me when showing my results to other scientists as you don't need to produce many versions of the same plot with different zooming conditions.</p>
	
	<figure class="figure" id="FIG: interactive plot">
		<iframe class="plotly" src="media/Reconstruction error mean.html" style="width: 555px ! important;"></iframe>
		<figcaption class="figure">This plot is interactive, it was produced using the nice Python package <a href="https://plotly.com/">plotly</a>.</figcaption>
	</figure>
	
	<p>Of course we can make this plots to fill the full width of the window so they change as we reshape the window. See for example the plot in figure <crossref>measured delay average</crossref>. If you change the width of this window the plot will automatically adapt itself. Cool!</p>
	
	<figure class="figure" id="measured delay average">
		<figcaption class="figure">Note that you can place the caption above the figure, not only below. Just place the <code>figcaption</code> tag where you want the caption to be.</figcaption>
		<iframe class="plotly" src="media/Measured delay average vs set delay.html"></iframe>
	</figure>
	
	<p>Another advantage of these "interactive plots" is that the text in the legend/labels zooms accordingly to the zoom of the window. Try to <code>ctrl+wheel</code><footnote>Or whatever command you use in your browser to change the zoom.</footnote> to change the zoom of this window and see how the text and markers in these plots is modified.</p>
	
	<h1>Cross referencing</h1>
	
	<p>To insert a cross reference in an HTML Scientific Document you have to use the <code>&lt;.crossref></code> tag. Within this tag you have to put the <code>id</code> of the object you want to refer to. For example before we wrote <code>&lt;equation id="my first equation">$$\intop_0^1f(x)dx=\pi$$&lt;/equation></code> so now we can write <code>&lt;crossref>my first equation&lt;/crossref></code> to obtain this reference: <crossref>my first equation</crossref>.</p>
	
	<p>We can use this to make reference to
		<ul>
			<li>Equations.</li>
			<li>Sections.</li>
			<li>Figures.</li>
			<li>Tables (not implemented yet).</li>
		</ul>
		The machinery behind HTML Scientific Document automatically detects what you are refering to and uses the propper reference text<footnote>This means that you don't have to wrap equation references between parentheses, this is automatic.</footnote>. For example: See figure <crossref>figure with Newton in full width</crossref>, equation <crossref>Dirac equation</crossref> or section <crossref>Sections and sub-sections</crossref>. 
		This is a reference to the very long equation, eq. <crossref>very long equation</crossref>.
	</p>
	
	<h2>Cross referencing sections without the need of adding an id</h2>
	<p>Since the title of a section is almost an <code>id</code>, you can use <code>crossref</code> with sections without the need of adding a specific <code>id</code> to the section, you can just use the title of such section. For example before I wrote <code>&lt;h3>Latex command deffinitions&lt;/h3></code> which creates a section with no <code>id</code> defined, now I can write <code>&lt;crossref>Latex command deffinitions&lt;/crossref></code> to obtain this: <crossref>Latex command deffinitions</crossref>.</p>
	<p>Note that in this case the name of the section is used as its <code>id</code> so if you change the name you will broke the reference.</p>
	
	<h1>Footnotes</h1>
	<p>You can add footnotes by using the <code>&lt;footnote></code> tag like this: <code>&lt;footnote>foot note content&lt;/footnote></code>. For example here you have a footnote<footnote>This is a footnote. We can have an equation $e^{i\pi}+1=0$.</footnote>.</p>
	<p>Of course footnotes can have crossrefs within them<footnote>Many times footnotes make references to equations, like equation <crossref>Dirac equation</crossref> for example.</footnote><footnote>You can also place many consecutive footnotes one after the other.</footnote>.</p>
	
	<h1>Bibliography and citations</h1>
	<p>To insert bibliography first create a <code>&lt;reference></code> element, for example <code>&lt;reference id="book Jackson Classical Electrodynamics">Jackson, J. D. (1999). Classical electrodynamics.&lt;/reference></code> and then just create a <code>&lt;crossref></code> to this element. For example <crossref>paper EPR</crossref>. You can provide further details by using the <code>add_text</code> property, for example <code>&lt;crossref add_text="sec. 4.5">book Jackson Classical Electrodynamics&lt;/crossref></code> will produce this: <crossref add_text="sec. 4.5">book Jackson Classical Electrodynamics</crossref> (not yet implemented this!).</p>
	<p>Here I cite again <crossref>paper EPR</crossref>.</p>
	
	<h1>Still-to-do list</h1>
	<p>Though this is already looking good, there is still much work to do:</p>
	<ul>
		<li>Implement bibliography and references.</li>
		<li>Implement a translator Latex → this. This would be the glory.</li>
		<li>Probably many things more.</li>
	</ul>
	
	<h1>How can I write my own HTML Scientific Document?</h1>
	<h2>Template</h2>
	<p>You can find a template in <a href="https://github.com/SengerM/html-academic-publishing/blob/main/template.html">this link</a> that you can download and start playing with. To edit it you open <code>template.html</code> with your favourite text editor, to view it you open <code>template.html</code> with your favourite web browser. Hit <code>F5</code> (refresh) to update the changes as you modify the template.</p>
	<h2>Documentation and reference</h2>
	<p>You can also download the source code of this file from <a href="https://github.com/SengerM/html-academic-publishing">this Github repo</a> and use this document as a template/reference.  You don't need to modify anything within the <code>css_and_scripts</code> directory. You are free to modify them if you want, of course.</p>
	
	<div id="references_list">
		<h1 class="unnumbered">References</h1>
		<reference id="book Jackson Classical Electrodynamics">Jackson, J. D. (1999). Classical electrodynamics.</reference>
		<reference id="paper EPR">Einstein, A., B. Podolsky, and N. Rosen. “Can Quantum-Mechanical Description of Physical Reality Be Considered Complete?” Physical Review 47, no. 10 (May 15, 1935): 777–80. <a href="https://doi.org/10.1103/PhysRev.47.777">https://doi.org/10.1103/PhysRev.47.777</a>.</reference>
		<reference id="paper Bell">Bell, John Stewart. “On the Einstein Podolsky Rosen Paradox” 1, no. 3 (1964): 6.</reference>
	</div>
	
	<div id="footnotes_list">
		<h1 class="unnumbered">Footnotes</h2>
	</div>
		
	<script src="./css_and_scripts/script.js"></script>
	<script src="./css_and_scripts/authors.js"></script>
</body>

</html>
